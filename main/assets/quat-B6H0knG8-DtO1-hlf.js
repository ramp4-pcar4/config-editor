import{bd as $,i4 as y,eq as j,ir as v,f7 as S}from"./index-BeTPrQ6f.js";import{e as I}from"./quatf64-C16JxGFv-BKWK1F8U.js";import{z as T,Q as x,G as X,l as Y}from"./vec32-CI1xtKog-DFVYRcgb.js";import{E as w,y as B,L as G,q as Q,z as R,w as W,x as Z,O as k,o as C,p as D,g as F}from"./vec42-DHp-FUwt-Br7hmYJs.js";function H(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function _(r,s,a){a*=.5;const o=Math.sin(a);return r[0]=o*s[0],r[1]=o*s[1],r[2]=o*s[2],r[3]=Math.cos(a),r}function J(r,s){const a=2*Math.acos(s[3]),o=Math.sin(a/2);return o>$()?(r[0]=s[0]/o,r[1]=s[1]/o,r[2]=s[2]/o):(r[0]=1,r[1]=0,r[2]=0),a}function b(r,s,a){const o=s[0],t=s[1],c=s[2],u=s[3],i=a[0],e=a[1],n=a[2],h=a[3];return r[0]=o*h+u*i+t*n-c*e,r[1]=t*h+u*e+c*i-o*n,r[2]=c*h+u*n+o*e-t*i,r[3]=u*h-o*i-t*e-c*n,r}function K(r,s,a){a*=.5;const o=s[0],t=s[1],c=s[2],u=s[3],i=Math.sin(a),e=Math.cos(a);return r[0]=o*e+u*i,r[1]=t*e+c*i,r[2]=c*e-t*i,r[3]=u*e-o*i,r}function N(r,s,a){a*=.5;const o=s[0],t=s[1],c=s[2],u=s[3],i=Math.sin(a),e=Math.cos(a);return r[0]=o*e-c*i,r[1]=t*e+u*i,r[2]=c*e+o*i,r[3]=u*e-t*i,r}function U(r,s,a){a*=.5;const o=s[0],t=s[1],c=s[2],u=s[3],i=Math.sin(a),e=Math.cos(a);return r[0]=o*e+t*i,r[1]=t*e-o*i,r[2]=c*e+u*i,r[3]=u*e-c*i,r}function V(r,s){const a=s[0],o=s[1],t=s[2];return r[0]=a,r[1]=o,r[2]=t,r[3]=Math.sqrt(Math.abs(1-a*a-o*o-t*t)),r}function g(r,s,a,o){const t=s[0],c=s[1],u=s[2],i=s[3];let e,n,h,f,l,m=a[0],p=a[1],q=a[2],d=a[3];return n=t*m+c*p+u*q+i*d,n<0&&(n=-n,m=-m,p=-p,q=-q,d=-d),1-n>$()?(e=Math.acos(n),h=Math.sin(e),f=Math.sin((1-o)*e)/h,l=Math.sin(o*e)/h):(f=1-o,l=o),r[0]=f*t+l*m,r[1]=f*c+l*p,r[2]=f*u+l*q,r[3]=f*i+l*d,r}function rr(r){const s=S,a=s(),o=s(),t=s(),c=Math.sqrt(1-a),u=Math.sqrt(a);return r[0]=c*Math.sin(2*Math.PI*o),r[1]=c*Math.cos(2*Math.PI*o),r[2]=u*Math.sin(2*Math.PI*t),r[3]=u*Math.cos(2*Math.PI*t),r}function sr(r,s){const a=s[0],o=s[1],t=s[2],c=s[3],u=a*a+o*o+t*t+c*c,i=u?1/u:0;return r[0]=-a*i,r[1]=-o*i,r[2]=-t*i,r[3]=c*i,r}function or(r,s){return r[0]=-s[0],r[1]=-s[1],r[2]=-s[2],r[3]=s[3],r}function E(r,s){const a=s[0]+s[4]+s[8];let o;if(a>0)o=Math.sqrt(a+1),r[3]=.5*o,o=.5/o,r[0]=(s[5]-s[7])*o,r[1]=(s[6]-s[2])*o,r[2]=(s[1]-s[3])*o;else{let t=0;s[4]>s[0]&&(t=1),s[8]>s[3*t+t]&&(t=2);const c=(t+1)%3,u=(t+2)%3;o=Math.sqrt(s[3*t+t]-s[3*c+c]-s[3*u+u]+1),r[t]=.5*o,o=.5/o,r[3]=(s[3*c+u]-s[3*u+c])*o,r[c]=(s[3*c+t]+s[3*t+c])*o,r[u]=(s[3*u+t]+s[3*t+u])*o}return r}function tr(r,s,a,o){const t=.5*Math.PI/180;s*=t,a*=t,o*=t;const c=Math.sin(s),u=Math.cos(s),i=Math.sin(a),e=Math.cos(a),n=Math.sin(o),h=Math.cos(o);return r[0]=c*e*h-u*i*n,r[1]=u*i*h+c*e*n,r[2]=u*e*n-c*i*h,r[3]=u*e*h+c*i*n,r}function ar(r){return"quat("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}const cr=D,ur=B,ir=F,er=b,nr=R,hr=C,Mr=W,L=Z,fr=L,O=Q,lr=O,P=G,mr=w,pr=k;function qr(r,s,a){const o=T(s,a);return o<-.999999?(x(M,dr,s),X(M)<1e-6&&x(M,gr,s),Y(M,M),_(r,M,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(x(M,s,a),r[0]=M[0],r[1]=M[1],r[2]=M[2],r[3]=1+o,P(r,r))}const M=j(),dr=y(1,0,0),gr=y(0,1,0);function xr(r,s,a,o,t,c){return g(z,s,t,c),g(A,a,o,c),g(r,z,A,2*c*(1-c)),r}const z=I(),A=I();function Pr(r,s,a,o){const t=zr;return t[0]=a[0],t[3]=a[1],t[6]=a[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-s[0],t[5]=-s[1],t[8]=-s[2],P(r,E(r,t))}const zr=v();Object.freeze(Object.defineProperty({__proto__:null,add:ir,calculateW:V,conjugate:or,copy:cr,dot:hr,equals:pr,exactEquals:mr,fromEuler:tr,fromMat3:E,getAxisAngle:J,identity:H,invert:sr,len:fr,length:L,lerp:Mr,mul:er,multiply:b,normalize:P,random:rr,rotateX:K,rotateY:N,rotateZ:U,rotationTo:qr,scale:nr,set:ur,setAxes:Pr,setAxisAngle:_,slerp:g,sqlerp:xr,sqrLen:lr,squaredLength:O,str:ar},Symbol.toStringTag,{value:"Module"}));export{_ as A,tr as E,sr as L,ur as O,mr as R,qr as X,b as _,J as j,or as v};
