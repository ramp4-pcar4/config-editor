import{m as c,k as f}from"./asyncUtils-Cu__bxqs-ecCTUaGV.js";import{a7 as e,bs as u}from"./index-BeTPrQ6f.js";async function p(o,l){return await o.load(),y(o,l)}async function y(o,l){const i=[],n=(...r)=>{for(const a of r)a!=null&&(Array.isArray(a)?n(...a):e.isCollection(a)?a.forEach(s=>n(s)):u(a)&&i.push(a))};l(n);let t=null;if(await c(i,async r=>{const a=await f(A(r)?r.loadAll():r.load());a.ok!==!1||t||(t=a)}),t)throw t.error;return o}function A(o){return"loadAll"in o&&typeof o.loadAll=="function"}export{y as i,p as y};
