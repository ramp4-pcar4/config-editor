import{jX as l,aB as x}from"./index-BeTPrQ6f.js";import{i as d,e as y}from"./SimpleGeometryCursor-DSF_YyIm-TAMgMsbK.js";import{V as G}from"./Point2D-BVUQyGsf-qih0ZuJV.js";import{h as b}from"./ProjectionTransformation-BXUROh_s-kKBZ5FDB.js";import{Envelope2D as g}from"./Envelope2D-2iYexKQo-BCKocNS7.js";import{L as v}from"./Bufferer-Dw9Qi4T1-b7ZqVDFH-EKBPZRq9.js";import{fromGeometries as w,getSpatialReference as D,toGeometry as I}from"./jsonConverter-CiKBkr5U-C590VlCu.js";import"./Transformation2D-CZCvoz9N-B-IhcWnl.js";import"./OperatorDefinitions-DJdq_wrt-DP7_WWTp.js";import"./GeometryCleaner-BEJM7I4l-D17pxNCQ-DWXxThGT.js";import"./OperatorSimplifyOGC-LxORArjZ-CAWJzjpM.js";import"./OperatorGeneralize-D1zTV4Nc-6bRWAUT6.js";let L=class{getOperatorType(){return 10111}supportsCurves(){return!0}accelerateGeometry(i,e,t){return!1}canAccelerateGeometry(i){return!1}executeMany(i,e,t,n,m,o,r,a,u,s,c){if(u){const h=new p(i,e,t,n,m,o,r,a,c);return new b().executeMany(h,e,c,2)}return new p(i,e,t,n,m,o,r,a,c)}};class p extends y{constructor(e,t,n,m,o,r,a,u,s){super(),this.m_currentUnionEnvelope2D=new g,this.m_index=-1,this.m_dindex=-1,this.m_progressTracker=s,this.m_bufferer=new v(s),this.m_inputGeoms=e,this.m_spatialReference=t,this.m_distances=n,this.m_maxDeviation=a,this.m_maxVerticesInFullCircle=u,this.m_joins=m,this.m_caps=o,this.m_miterLimit=r}tock(){return!0}getRank(){return 1}next(){{let e;for(;e=this.m_inputGeoms.next();)return G(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.m_dindex+1<this.m_distances.length&&this.m_dindex++,this.buffer(e,this.m_distances[this.m_dindex]);return null}}getGeometryID(){return this.m_index}buffer(e,t){return this.m_bufferer.buffer(e,t,this.m_spatialReference,this.m_joins,this.m_caps,this.m_miterLimit,this.m_maxDeviation,this.m_maxVerticesInFullCircle)}}const C=new L;function M(i,e,t,n,m,o,r,a,u){const s=C.executeMany(new d(i),e,t,n,m,o,r,a,u,0,null);return Array.from(s)}const R={round:0,miter:1,bevel:2},V={round:0,butt:1,square:2};function U(i,e,t,n,m={}){let{miterLimit:o=10,maxDeviation:r=NaN,maxVerticesInFullCircle:a=96,union:u=!1,unit:s}=m;const[c,h]=w(i);if(s){const f=D(i);f&&(e=e.map(_=>l(_,s,f)),r&&(r=l(r,s,f)))}return M(c,h,e,R[t],V[n],o,r,a,u).map(f=>I(f,h)).filter(x)}export{U as executeMany};
