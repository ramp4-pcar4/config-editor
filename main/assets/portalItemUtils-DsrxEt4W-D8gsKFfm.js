import{Q as E,O as l}from"./projection-m8vi7Cxv-C_JltvOn.js";import{cR as f,T as d}from"./index-DT_2vTqg.js";async function p(t){const n=t.spatialReference;if(n.isWGS84)return t.clone();if(n.isWebMercator)return f(t);const e=d.WGS84;return await E(n,e),l(t,e)}function y(t,n){if(!u(t,n)){const e=t.typeKeywords;e?e.push(n):t.typeKeywords=[n]}}function u(t,n){var e;return!!((e=t.typeKeywords)!=null&&e.includes(n))}function I(t){return u(t,S.HOSTED_SERVICE)}function A(t,n){const e=t.typeKeywords;if(e){const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function T(t,n,e){e?y(t,n):A(t,n)}async function _(t){const n=t.clone().normalize();let e;if(n.length>1)for(const r of n)e?r.width>e.width&&(e=r):e=r;else e=n[0];return p(e)}const S={DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function m(t){var c;const{portal:n,isOrgItem:e,itemControl:r}=t,i=(c=n.user)==null?void 0:c.privileges;let o=!i||i.includes("features:user:edit"),s=!!e&&!!(i!=null&&i.includes("features:user:fullEdit"));const a=r==="update"||r==="admin";return a?s=o=!0:s&&(o=!0),{features:{edit:o,fullEdit:s},content:{updateItem:a}}}export{A as E,T as I,_ as L,m as R,y as c,S as l,u as o,I as y};
