import{N as a,f8 as s}from"./index-CQ8-0QQp.js";import{S as l}from"./symbolUtils-D5Wjfwrf-DeD8gFR7.js";import{e as d}from"./webStyleSymbolUtils-r0H5toyk-Rf-0TE3r.js";import"./utils-Cb2uXNfG-DKAy_g3B.js";import"./asyncUtils-BPUlNCrX-C7s4Eh4u.js";import"./jsonUtils-BwLwuQj7-BBqLvREw.js";import"./parser-CWccHtwJ-CeF_pdxX.js";import"./mat4f32-BdRMyjXW-CWt6U0BP.js";import"./mat4-OOmHNWi7-_RgowJk9.js";import"./common-CYWrYyJl-E8-sukrT.js";import"./cimSymbolUtils-DCedSSCN-CSq18u1I.js";import"./utils-BfXZnjCE-CopoHYAx.js";import"./defaultCIMValues-BcSaJjm--58G-soMN.js";import"./enums-a_LDTPYU-CBIcy3mM.js";import"./LRUCache-DPWdPNTF-BhV6gJVw.js";import"./MemCache-qDGoejB7-Bz_y0gIH.js";import"./colorUtils-Eg6lOlXm-7UV7YEXV.js";import"./vec42-D8CJyqHG-DnfLTeQH.js";import"./vec4f64-DD-nkcCV-CSNWKRqG.js";import"./jsxFactory-Cua8zWVZ-CUIB-Lcq.js";import"./intl-BAA1onnp-CmgFU7qQ.js";import"./uuid-Dj9mdEVg-BaKSCiyT.js";import"./sanitizerUtils-B1yRmbO2-B7KG_jBT.js";import"./mat2df32-fg3OHsAI-BF2V2zqo.js";import"./mat2d-BQA-1WB--Pnyy0dhf.js";import"./devEnvironmentUtils-CxrVv3RG-ktR0Kqgv.js";import"./styleUtils-DBPDLVBX-jec2DPp4.js";async function G(i,t,o){var e;const r=(e=i.thumbnail)==null?void 0:e.url;if(r){const m=c((await a(r,{responseType:"image"})).data,o);return o!=null&&o.node?(o.node.appendChild(m),o.node):m}const p=await i.fetchSymbol({acceptedFormats:d});return p?t(p,o):null}function c(i,t){const o=!/\\.svg$/i.test(i.src)&&(t==null?void 0:t.disableUpsampling),r=Math.max(i.width,i.height);let p=(t==null?void 0:t.maxSize)!=null?s(t.maxSize):l.maxSize;o&&(p=Math.min(r,p));const e=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,m=Math.min(p,e!=null?s(e):r);if(m!==r){const h=i.width!==0&&i.height!==0?i.width/i.height:1;h>=1?(i.width=m,i.height=m/h):(i.width=m*h,i.height=m)}return i}export{G as previewWebStyleSymbol};
