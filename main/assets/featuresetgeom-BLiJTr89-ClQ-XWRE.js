import{l,r as c}from"./enum-g1DWyQyu-CSsVCFk1.js";import{H as S}from"./TimeOnly-CGkId3bj-BKQTBx4m.js";import{w,a as O,H as a,p as m,K as u}from"./aiServices-u5nRiq9H-DSM_0MlO.js";import{D as p,F as d}from"./SpatialFilter-B44tswGH-CdI_s2lG.js";import{n as o}from"./operatorsWorkerConnection-TmW3NQ3Q-CLrnoY1_.js";import"./index-DECxckyg.js";import"./UnknownTimeZone-DxjyzFvs-o2mRsJrx.js";import"./ImmutableArray-CiJxhY8_-Kqx7aWRu.js";import"./shared-DttuBH5Z-DjYRMPUJ.js";import"./Field-BIQ-quF4-CUYPWLA1.js";import"./fieldType-PhcL4ff8-DZQJCxjF.js";import"./number-mnL_JN3f-CgTKKye2.js";import"./commonProperties-D1Pjvz5u-DHiB1uzW.js";import"./utils-BO8hgPs3-BAVIrS87.js";import"./arcade-BoHTeCSG-TF6SPSlb.js";import"./featureConversionUtils-Bjjlcfdo-AS4Z7egt.js";import"./OptimizedFeature-mIz_HhJg-DMWtIZsL.js";import"./memoryEstimations-DeWfxwaV-D_nnXLqB.js";import"./OptimizedGeometry-pzfNw1AT-DKm61ZAr.js";import"./OptimizedFeatureSet-Dz5hF8Qm-B1brSkRC.js";import"./FieldsIndex-Bt0Y8aWr-eqnhpcIX.js";import"./timeZoneUtils-d5p0Jda1-D-JoHJ-F.js";import"./WhereClause-D4rZJkVN-RJBFiIHu.js";import"./unitConversion-BxD3RA9Y-YdJCnHrC.js";import"./uuid-Dj9mdEVg-BaKSCiyT.js";import"./workers-CeRXsnNJ-CF20ggQ3.js";import"./Queue-DV3gpSdl-dEQtqDMO.js";import"./intl-BAA1onnp-XtXh_4yZ.js";function s(i){return async(r,n,t)=>{if(O(t,2,2,r,n),(t=w(t))[0]===null&&t[1]===null)return!1;if(u(t[0])){if(a(t[1]))return new d({parentfeatureset:t[0],relation:i,relationGeom:t[1]});if(t[1]===null)return new p({parentfeatureset:t[0]});throw new l(r,c.InvalidParameter,n)}if(a(t[0])){if(a(t[1])){switch(i){case"esriSpatialRelEnvelopeIntersects":{const f=S(t[0]),e=S(t[1]);return f!=null&&e!=null&&o("intersects",[f.toJSON(),e.toJSON()])}case"esriSpatialRelIntersects":return o("intersects",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelContains":return o("contains",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelOverlaps":return o("overlaps",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelWithin":return o("within",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelTouches":return o("touches",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelCrosses":return o("crosses",[t[0].toJSON(),t[1].toJSON()])}throw new l(r,c.InvalidParameter,n)}if(u(t[1]))return new d({parentfeatureset:t[1],relation:i,relationGeom:t[0]});if(t[1]===null)return!1;throw new l(r,c.InvalidParameter,n)}if(t[0]===null){if(u(t[1]))return new p({parentfeatureset:t[1]});if(a(t[1])||t[1]===null)return!1}throw new l(r,c.InvalidParameter,n)}}function Q(i){i.mode==="async"&&(i.functions.intersects=function(r,n){return i.standardFunctionAsync(r,n,s("esriSpatialRelIntersects"))},i.functions.envelopeintersects=function(r,n){return i.standardFunctionAsync(r,n,s("esriSpatialRelEnvelopeIntersects"))},i.signatures.push({name:"envelopeintersects",min:2,max:2}),i.functions.contains=function(r,n){return i.standardFunctionAsync(r,n,s("esriSpatialRelContains"))},i.functions.overlaps=function(r,n){return i.standardFunctionAsync(r,n,s("esriSpatialRelOverlaps"))},i.functions.within=function(r,n){return i.standardFunctionAsync(r,n,s("esriSpatialRelWithin"))},i.functions.touches=function(r,n){return i.standardFunctionAsync(r,n,s("esriSpatialRelTouches"))},i.functions.crosses=function(r,n){return i.standardFunctionAsync(r,n,s("esriSpatialRelCrosses"))},i.functions.relate=function(r,n){return i.standardFunctionAsync(r,n,async(t,f,e)=>{if(e=w(e),O(e,3,3,r,n),a(e[0])&&a(e[1]))return o("relate",[e[0].toJSON(),e[1].toJSON(),m(e[2])]);if(a(e[0])&&e[1]===null||a(e[1])&&e[0]===null)return!1;if(u(e[0])&&e[1]===null)return new p({parentfeatureset:e[0]});if(u(e[1])&&e[0]===null)return new p({parentfeatureset:e[1]});if(u(e[0])&&a(e[1]))return e[0].relate(e[1],m(e[2]));if(u(e[1])&&a(e[0]))return e[1].relate(e[0],m(e[2]));if(e[0]===null&&e[1]===null)return!1;throw new l(r,c.InvalidParameter,n)})})}export{Q as registerFunctions};
