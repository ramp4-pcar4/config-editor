import{v as m,gj as a}from"./index-BeTPrQ6f.js";import{e as c}from"./webStyleAcceptedFormats-DsfCZOwz-CG7ZQ6BV.js";async function u(e,n,t){var l;const h=(l=e.thumbnail)==null?void 0:l.url;if(h){const o=d((await m(h,{responseType:"image"})).data,t);return t!=null&&t.node?(t.node.appendChild(o),t.node):o}const s=await e.fetchSymbol({acceptedFormats:c});return s?n(s,t):null}function d(e,n){const t=!/\\.svg$/i.test(e.src)&&(n==null?void 0:n.disableUpsampling),h=Math.max(e.width,e.height);let s=(n==null?void 0:n.maxSize)!=null?a(n.maxSize):120;t&&(s=Math.min(h,s));const l=typeof(n==null?void 0:n.size)=="number"?n==null?void 0:n.size:null,o=Math.min(s,l!=null?a(l):h);if(o!==h){const r=e.width!==0&&e.height!==0?e.width/e.height:1;r>=1?(e.width=o,e.height=o/r):(e.width=o*r,e.height=o)}return e}export{u as previewWebStyleSymbol};
