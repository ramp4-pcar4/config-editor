import{m as l,E as i,R as m,be as S,n as I}from"./index-BeTPrQ6f.js";import{p as y}from"./TileInfo-BmHJ3kZT-BCenfvrA.js";import{c as D}from"./TileInfoTilemapCache-B_alqX5s-wWgO84zX.js";import{u as O}from"./TilemapCache-CC7N-a0b-BH6C_dZ9.js";const M=h=>{const f=h;let t=class extends f{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){var o,e;(e=(o=this.tilemapCache)==null?void 0:o.destroy)==null||e.call(o)}readMinScale(o,e){return e.minLOD!=null&&e.maxLOD!=null?o:0}readMaxScale(o,e){return e.minLOD!=null&&e.maxLOD!=null?o:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(o,e,v){var u;const x=(u=e.capabilities)==null?void 0:u.includes("Tilemap");let{minLOD:a,maxLOD:n,minScale:p,maxScale:c}=e;if(a==null&&n==null&&(p!==0||c!==0)){const r=s=>Math.round(1e4*s)/1e4;p=r(p||e.tileInfo.lods[0].scale),c=r(c||e.tileInfo.lods[e.tileInfo.lods.length-1].scale);for(const s of e.tileInfo.lods){const d=r(s.scale);a=d>=p?s.level:a,n=d>=c?s.level:n}}if(x)return new O({layer:this,minLOD:a,maxLOD:n});if(e.tileInfo){const r=new y;return r.read(e.tileInfo,v),new D(r,a,n)}return null}};return l([i({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),l([i()],t.prototype,"minScale",void 0),l([m("service","minScale")],t.prototype,"readMinScale",null),l([i()],t.prototype,"maxScale",void 0),l([m("service","maxScale")],t.prototype,"readMaxScale",null),l([i({type:S})],t.prototype,"spatialReference",void 0),l([i({readOnly:!0})],t.prototype,"supportsBlankTile",null),l([i({type:y})],t.prototype,"tileInfo",void 0),l([i()],t.prototype,"tilemapCache",void 0),l([m("service","tilemapCache",["capabilities","tileInfo"])],t.prototype,"readTilemapCache",null),l([i()],t.prototype,"version",void 0),t=l([I("esri.layers.mixins.ArcGISCachedService")],t),t};export{M as D};
