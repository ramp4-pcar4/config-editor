class a{constructor(r){this.getUnmaskedRenderer=r}}function s(e){const r=e.getExtension("WEBGL_debug_renderer_info");return r?new a(()=>e.getParameter(r.UNMASKED_RENDERER_WEBGL)):null}let l;function p(){return l??(l=i()),l}class u{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}}function f(e){var o;if(typeof WebGL2RenderingContext>"u")return null;const r=document.createElement("canvas");if(!r)return null;let t=r.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(t==null&&(t=r.getContext("webgl2"),t!=null&&(e.majorPerformanceCaveat=!0,e.unmaskedRenderer=((o=s(t))==null?void 0:o.getUnmaskedRenderer())??"unknown")),t==null)return t;e.available=!0,e.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);return n&&(e.supportsHighPrecisionFragment=n.precision>0),t}function i(){const e=new u,r=f(e);return r==null||(e.supportsColorBufferFloat=r.getExtension("EXT_color_buffer_float")!==null,e.supportsColorBufferFloatBlend=r.getExtension("EXT_float_blend")!==null,e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||r.getExtension("EXT_color_buffer_half_float")!==null),e}export{s as o,p as s};
