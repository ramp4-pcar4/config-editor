import{cS as g,bP as h,T as m,E as x,cR as y,L as w}from"./index-DT_2vTqg.js";import{G as W,c as E}from"./geodesicUtils-DV-lFWtb-Dn4jmTsX.js";import{C as L}from"./normalizeUtils-b-vZURob-CBPnL-S2.js";const S=50,A=5;function P(e,c){return Math.log(e)/Math.log(c)}function C(e,c,o){const t=e===1?10:e;return t**(o?Math.round(P(S/c,t)):0)}function d(e){const{isGeographic:c,isWebMercator:o}=e;return!c&&!o}function O(e,c,o){const t=typeof e=="number"?null:e,r=o??(t==null?void 0:t.spatialReference);if(r==null||!g(r)||d(r))return h(r);let a=(t==null?void 0:t.x)??e,s=(t==null?void 0:t.y)??c;const l=1/Math.sqrt(2);let i=a+l,f=s+l;const{isWebMercator:G,isGeographic:M}=r;let u=M&&!W(r)?m.WGS84:r;if(G){let n=new x({x:a,y:s,spatialReference:r});y(n,!0,n),a=n.x,s=n.y,n=new x({x:i,y:f,spatialReference:r}),y(n,!0,n),i=n.x,f=n.y,u=m.WGS84}const R=new w({paths:[[[a,s],[i,f]]],spatialReference:u}),b=L(R,10);let p;try{[p]=E([b],"meters")}catch{return h(r)}return p}export{C as P,O as Q,A as k,d as x};
