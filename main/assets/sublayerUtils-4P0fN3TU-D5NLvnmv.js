function u(i,n,r){return n.flatten(({sublayers:e})=>e).length!==i.length?!0:!!i.some(e=>e.originIdOf("minScale")>r||e.originIdOf("maxScale")>r||e.originIdOf("renderer")>r||e.originIdOf("labelingInfo")>r||e.originIdOf("opacity")>r||e.originIdOf("labelsVisible")>r||e.originIdOf("source")>r)||!s(i,n)}function d(i,n,r){return!!i.some(e=>{var l,a,f;const o=e.source,t=!o||o.type==="map-layer"&&o.mapLayerId===e.id&&(o.gdbVersion==null||o.gdbVersion===r);e.commitProperty("renderer"),e.commitProperty("labelingInfo"),e.commitProperty("opacity"),e.commitProperty("labelsVisible"),e.commitProperty("orderBy");const c=((f=(a=(l=e.layer)==null?void 0:l.capabilities)==null?void 0:a.exportMap)==null?void 0:f.supportsSublayerOrderBy)??!1;return!t||e.originIdOf("renderer")>2||e.originIdOf("labelingInfo")>2||e.originIdOf("opacity")>2||e.originIdOf("labelsVisible")>2||c&&e.originIdOf("orderBy")>2})||!s(i,n)}function s(i,n){if(!(i!=null&&i.length)||n==null)return!0;const r=n.slice().reverse().flatten(({sublayers:t})=>t&&t.toArray().reverse()).map(t=>t.id).toArray();if(i.length>r.length)return!1;let e=0;const o=r.length;for(const{id:t}of i){for(;e<o&&r[e]!==t;)e++;if(e>=o)return!1}return!0}function g(i){return!!i&&i.some(n=>{var r;return n.minScale!=null||((r=n.layerDefinition)==null?void 0:r.minScale)!=null})}export{g as c,d as f,u as s};
