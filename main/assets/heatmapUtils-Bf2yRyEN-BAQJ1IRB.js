import{gj as u,gk as l,am as m}from"./index-BeTPrQ6f.js";import{w as p}from"./vec42-DHp-FUwt-Br7hmYJs.js";import{o as h}from"./vec4f64-DD-nkcCV-CSNWKRqG.js";const f=2.4;function x(o){return l(o*f)}function d(o){return u(o)/f}function y(o,n,a,i){let{color:c,ratio:e}=n,{color:r,ratio:t}=a;t===e&&(t===1?e-=1e-6:t+=1e-6);const s=m((i-e)/(t-e),0,1);p(o,c.toArray(),r.toArray(),s)}function w(o){const n=new Uint8ClampedArray(2048);if(o=o.filter(({ratio:r})=>r>=0&&r<=1).sort((r,t)=>r.ratio-t.ratio).map(({color:r,ratio:t})=>({color:r,ratio:Math.max(t,.001)})),o.length<1)return n;let a=o[0],i=o[0],c=1;const e=h();for(let r=0;r<512;r++){const t=(r+.5)/512;for(;t>i.ratio&&c<o.length;)a=i,i=o[c++];y(e,a,i,t),n.set(e,4*r)}return n}function b(o,n,a){const i=Math.sqrt(o**2+n**2)/a;return i>1?0:3/(Math.PI*a**2)*(1-i**2)**2}function j(o){return typeof o=="function"?o:o?n=>+n[o]:()=>1}export{w as M,b,f as c,j as d,d as x,x as y};
