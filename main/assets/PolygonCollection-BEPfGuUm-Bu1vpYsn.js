import{bI as p,a7 as f,C as n,aU as u,m,n as h}from"./index-BeTPrQ6f.js";import{J as d,o as y}from"./projectionUtils-CsX1UTBu-DsZaU4xz.js";var a;let o=a=class extends p(f.ofType(n)){constructor(e){super(e)}clone(){return new a(this.items.map(e=>e.clone()))}write(e,r){return this.toJSON(r)}toJSON(e){var s;const r=(s=e==null?void 0:e.layer)==null?void 0:s.spatialReference;return r?this.toArray().map(t=>{var l;if(!r.equals(t.spatialReference)){if(!d(t.spatialReference,r))return(l=e==null?void 0:e.messages)==null||l.push(new u("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const c=new n;y(t,c,r),t=c}const i=t.toJSON(e);return delete i.spatialReference,i}).filter(t=>t!=null):this.toArray().map(t=>t.toJSON(e))}static fromJSON(e,r){const s=new a;return e.forEach(t=>s.add(n.fromJSON(t,r))),s}};o=a=m([h("esri.layers.support.PolygonCollection")],o);const w=o;export{w as h};
