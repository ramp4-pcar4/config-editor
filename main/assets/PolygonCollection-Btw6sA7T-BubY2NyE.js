import{X as p,a0 as f,Z as n,aR as u,v as m,n as h}from"./index-DRDU_nTl.js";import{L as S,s as d}from"./projectionUtils-B-CplN3q-B7QPK1Xx.js";var a;let o=a=class extends p.JSONSupportMixin(f.ofType(n)){constructor(e){super(e)}clone(){return new a(this.items.map(e=>e.clone()))}write(e,r){return this.toJSON(r)}toJSON(e){var s;const r=(s=e==null?void 0:e.layer)==null?void 0:s.spatialReference;return r?this.toArray().map(t=>{var l;if(!r.equals(t.spatialReference)){if(!S(t.spatialReference,r))return(l=e==null?void 0:e.messages)==null||l.push(new u("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const c=new n;d(t,c,r),t=c}const i=t.toJSON(e);return delete i.spatialReference,i}).filter(t=>t!=null):this.toArray().map(t=>t.toJSON(e))}static fromJSON(e,r){const s=new a;return e.forEach(t=>s.add(n.fromJSON(t,r))),s}};o=a=m([h("esri.layers.support.PolygonCollection")],o);const N=o;export{N as h};
