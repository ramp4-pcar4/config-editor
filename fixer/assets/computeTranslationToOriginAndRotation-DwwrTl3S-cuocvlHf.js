import{cV as N,d5 as O,df as _}from"./index-V75RkAZg.js";import{U as S,Z as T,G as M}from"./mat4-BFStKTjU-DR_gzsZK.js";import{F as P,N as e,b as L}from"./projection-m8vi7Cxv-MPQBAE9_.js";function R(c,i,t){const E=Math.sin(c),u=Math.cos(c),a=Math.sin(i),o=Math.cos(i),n=t;return n[0]=-E,n[4]=-a*u,n[8]=o*u,n[12]=0,n[1]=u,n[5]=-a*E,n[9]=o*E,n[13]=0,n[2]=0,n[6]=o,n[10]=a,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function m(c,i,t){return R(c,i,t),M(t,t),t}function d(c,i,t,E){const u=P(c,E);if(u==null)return!1;const a=u.source.spatialReferenceId,o=u.dest.spatialReferenceId;if(a===o&&!A(o)&&(a!==e.UNKNOWN||N(c,E)))return S(t,i),!0;if(A(o)){const f=L[a][e.LON_LAT],r=L[e.LON_LAT][o];return f!=null&&r!=null&&(f(i,0,s,0),r(s,0,C,0),R(l*s[0],l*s[1],t),t[12]=C[0],t[13]=C[1],t[14]=C[2],!0)}const n=A(a);if((o===e.WEB_MERCATOR||o===e.PLATE_CARREE||o===e.WGS84||o===e.CGCS2000)&&(a===e.WGS84||n||a===e.WEB_MERCATOR||a===e.CGCS2000)){const f=L[a][e.LON_LAT],r=L[e.LON_LAT][o];return f!=null&&r!=null&&(f(i,0,s,0),r(s,0,C,0),n?m(l*s[0],l*s[1],t):T(t),t[12]=C[0],t[13]=C[1],t[14]=C[2],!0)}return!1}function A(c){return c===e.SPHERICAL_ECEF||c===e.SPHERICAL_MARS_PCPF||c===e.SPHERICAL_MOON_PCPF||c===e.WGS84_ECEF}const l=O(1),s=_(),C=_();export{R as l,d as p};
