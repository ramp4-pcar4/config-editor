import{b2 as k,b3 as N,b4 as z,b5 as m,c as f,y as j,b as C}from"./index-Cd7FS_80.js";const F={ar:"ar-u-nu-latn"};let g=new WeakMap,v={};function $(n){const e=n||v;if(!g.has(e)){const t=m(),r=F[m()]||t;g.set(e,new Intl.NumberFormat(r,n))}return g.get(e)}function J(n={}){const e={};return n.digitSeparator!=null&&(e.useGrouping=n.digitSeparator),n.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=n.places),e}function K(n,e){return Object.is(n,-0)&&(n=0),$(e).format(n)}function Z(n,e=m()){var r,s;if(!n)return null;let t=y.get(e);if(!t){const i=$().formatToParts(12345.6),u=[...$({useGrouping:!1}).format(9876543210)].reverse(),h=new Map(u.map((a,w)=>[a,w])),c=new RegExp(`[${(r=i.find(a=>a.type==="group"))==null?void 0:r.value}]`,"g"),p=new RegExp(`[${(s=i.find(a=>a.type==="decimal"))==null?void 0:s.value}]`),l=new RegExp(`[${u.join("")}]`,"g"),b=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,_=/[-\u2212\u2013\u2014\u2015]/g;t=a=>{if((a=a.trim().replaceAll(c,"").replace(p,".").replace(l,E=>String(h.get(E))).replaceAll(b,"").replaceAll(_,"-"))==="")return null;const w=Number(a);return isNaN(w)?null:w},y.set(e,t)}return t(n)}k(()=>{g=new WeakMap,v={}});const y=new Map,x=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,M={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function W(n){return n in M}function R(n){if(W(n)){const e=M[n];return e===!0?n:e}return null}const d=[],o=new Map;function A(n){for(const e of o.keys())U(n.pattern,e)&&o.delete(e)}function O(n){return d.includes(n)||(A(n),d.unshift(n)),N(()=>{const e=d.indexOf(n);e>-1&&(d.splice(e,1),A(n))})}async function q(n){const e=m();o.has(n)||o.set(n,T(n,e));const t=o.get(n);return t&&await D.add(t),t}function S(n){if(!x.test(n))return null;const e=x.exec(n);if(e===null)return null;const[,t,r]=e;return R(t+(r?"-"+r.toUpperCase():""))??R(t)}async function T(n,e){const t=[];for(const r of d)if(U(r.pattern,n))try{return await r.fetchMessageBundle(n,e)}catch(s){t.push(s)}throw t.length?new f("intl:message-bundle-error",`Errors occurred while loading "${n}"`,{errors:t}):new f("intl:no-message-bundle-loader",`No loader found for message bundle "${n}"`)}function U(n,e){return typeof n=="string"?e.startsWith(n):n.test(e)}k(()=>{o.clear()});const D=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(n){return this._increase(),n.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=j())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function P(n,e,t,r){const s=e.exec(t);if(!s)throw new f("esri-intl:invalid-bundle",`Bundle id "${t}" is not compatible with the pattern "${e}"`);const i=s[1]?`${s[1]}/`:"",u=s[2],h=S(r),c=`${i}${u}.json`,p=h?`${i}${u}_${h}.json`:c;let l;try{l=await B(n(p))}catch(b){if(p===c)throw new f("intl:unknown-bundle",`Bundle "${t}" cannot be loaded`,{error:b});try{l=await B(n(c))}catch(_){throw new f("intl:unknown-bundle",`Bundle "${t}" cannot be loaded`,{error:_})}}return l}async function B(n){if(L.fetchBundleAsset!=null)return L.fetchBundleAsset(n);const e=await C(n,{responseType:"text"});return JSON.parse(e.data)}class G{constructor({base:e="",pattern:t,location:r=new URL(window.location.href)}){let s;s=typeof r=="string"?i=>new URL(i,new URL(r,window.location.href)).href:r instanceof URL?i=>new URL(i,r).href:r,this.pattern=typeof t=="string"?new RegExp(`^${t}`):t,this.getAssetUrl=s,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,t){return P(this.getAssetUrl,this.matcher,e,t)}}function H(n){return new G(n)}const L={};O(H({pattern:"esri/",location:z}));export{S as B,J as C,q as O,K as T,Z as W};
