import{mc as h,fU as b}from"./index-BeTPrQ6f.js";async function E(e,n=e.popupTemplate){var s,o;if(n==null)return[];const l=await n.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:c}=n,{objectIdField:p,typeIdField:i,globalIdField:t,relationships:a}=e;if(l.includes("*"))return["*"];const r=c?h(e):[],u=b(e.fieldsIndex,[...l,...r]);return i&&u.push(i),u&&p&&((s=e.fieldsIndex)!=null&&s.has(p))&&!u.includes(p)&&u.push(p),u&&t&&((o=e.fieldsIndex)!=null&&o.has(t))&&!u.includes(t)&&u.push(t),a==null||a.forEach(m=>{var f;const{keyField:d}=m;u&&d&&((f=e.fieldsIndex)!=null&&f.has(d))&&!u.includes(d)&&u.push(d)}),u}function I(e,n){return e&&typeof e=="object"?n!=null&&n.checkPopupEnabled&&"popupEnabled"in e&&!e.popupEnabled?null:"popupTemplate"in e&&e.popupTemplate?e.popupTemplate:n!=null&&n.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in e&&e.defaultPopupTemplate?e.defaultPopupTemplate:null:null}function x(e,n){return I(e,{defaultPopupTemplateEnabled:n})!=null}export{E as h,x as m,I as s};
