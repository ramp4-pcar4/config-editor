import{aW as I,eq as M,aO as R}from"./index-BeTPrQ6f.js";import{U as V,B as g,G as q}from"./mat4-R0VY9B_E-DoEP887i.js";import{I as w,w as p}from"./projectBuffer-CMNsPBq1-CMpE7Jo3.js";function d(s,u,n){const r=Math.sin(s),l=Math.cos(s),o=Math.sin(u),e=Math.cos(u),t=n;return t[0]=-r,t[4]=-o*l,t[8]=e*l,t[12]=0,t[1]=l,t[5]=-o*r,t[9]=e*r,t[13]=0,t[2]=0,t[6]=e,t[10]=o,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,t}function x(s,u,n){return d(s,u,n),q(n,n),n}function T(s,u,n,r){const l=w(s,r);if(l==null)return!1;const o=l.source.spatialReferenceId,e=l.dest.spatialReferenceId;if(o===e&&!m(e)&&(o!==0||I(s,r)))return V(n,u),!0;if(m(e)){const i=p[o][10],a=p[10][e];return i!=null&&a!=null&&(i(u,0,c,0),a(c,0,f,0),d(h*c[0],h*c[1],n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}const t=m(o);if((e===3||e===11||e===2||e===5)&&(o===2||t||o===3||o===5)){const i=p[o][10],a=p[10][e];return i!=null&&a!=null&&(i(u,0,c,0),a(c,0,f,0),t?x(h*c[0],h*c[1],n):g(n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}return!1}function m(s){return s===1||s===6||s===8||s===4}const h=R(1),c=M(),f=M();export{T,d as h};
