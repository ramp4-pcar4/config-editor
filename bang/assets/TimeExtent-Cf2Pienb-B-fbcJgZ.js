import{v as d,X as O,aq as p,S as y,w as g,F as D,n as j,cc as v,d3 as x,bP as J}from"./index-DRDU_nTl.js";const E={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function w(l,e,t,s=p){const n=new v(x(s)),r=J.fromJSDate(l,{zone:n}),i=t==="decades"||t==="centuries"?"year":N(t);return t==="decades"&&(e*=10),t==="centuries"&&(e*=100),r.plus({[i]:e}).toJSDate()}function $(l,e,t="milliseconds"){const s=l.getTime(),n=q(e,t,"milliseconds");return new Date(s+n)}function S(l,e,t=p){const s=new v(x(t)),n=J.fromJSDate(l,{zone:s});if(e==="decades"||e==="centuries"){const i=n.startOf("year"),{year:a}=i,c=a-a%(e==="decades"?10:100);return i.set({year:c}).toJSDate()}const r=N(e);return n.startOf(r).toJSDate()}function q(l,e,t){return l===0?0:l*E[e]/E[t]}function M(l,e){return l&&e?l.intersection(e):l||e}function N(l){switch(l){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var u,m;let o=(m=class extends O{static get allTime(){return A}static get empty(){return k}static fromArray(e){return new u({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(u.allTime)}get isEmpty(){return this.equals(u.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=(e==null?void 0:e.getTime())??null}clone(){return new u({end:this.end,start:this.start})}equals(e){var i,a,c,h;if(!e)return!1;const t=((i=this.start)==null?void 0:i.getTime())??this.start,s=((a=this.end)==null?void 0:a.getTime())??this.end,n=((c=e.start)==null?void 0:c.getTime())??e.start,r=((h=e.end)==null?void 0:h.getTime())??e.end;return t===n&&s===r}expandTo(e,t=p){if(this.isEmpty||this.isAllTime)return this.clone();let s=this.start;s&&(s=S(s,e,t));let n=this.end;if(n){const r=S(n,e,t);n=n.getTime()===r.getTime()?r:w(r,1,e,t)}return new u({start:s,end:n})}intersection(e){var c,h,T,f;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return u.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=((c=this.start)==null?void 0:c.getTime())??-1/0,s=((h=this.end)==null?void 0:h.getTime())??1/0,n=((T=e.start)==null?void 0:T.getTime())??-1/0,r=((f=e.end)==null?void 0:f.getTime())??1/0;let i,a;return n>=t&&n<=s?i=n:t>=n&&t<=r&&(i=t),s>=n&&s<=r?a=s:r>=t&&r<=s&&(a=r),i==null||a==null||isNaN(i)||isNaN(a)?u.empty:new u({start:i===-1/0?null:new Date(i),end:a===1/0?null:new Date(a)})}offset(e,t,s=p){if(this.isEmpty||this.isAllTime)return this.clone();const n=new u,{start:r,end:i}=this;return r!=null&&(n.start=w(r,e,t,s)),i!=null&&(n.end=w(i,e,t,s)),n}toArray(){var e,t;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((t=this.end)==null?void 0:t.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return A.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,s=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new u({start:t,end:s})}},u=m,m);d([y({type:Date,json:{write:{allowNull:!0}}})],o.prototype,"end",void 0),d([g("end")],o.prototype,"readEnd",null),d([D("end")],o.prototype,"writeEnd",null),d([y({readOnly:!0,json:{read:!1}})],o.prototype,"isAllTime",null),d([y({readOnly:!0,json:{read:!1}})],o.prototype,"isEmpty",null),d([y({type:Date,json:{write:{allowNull:!0}}})],o.prototype,"start",void 0),d([g("start")],o.prototype,"readStart",null),d([D("start")],o.prototype,"writeStart",null),o=u=d([j("esri.time.TimeExtent")],o);const A=new o,k=new o({start:void 0,end:void 0});export{q as E,$ as J,w as c,E as h,o as l,M as z};
