import{aO as O}from"./index-BeTPrQ6f.js";import{f as v}from"./PixelBlock-DwvqalBN-B5no8ogH.js";import"./pixelRangeUtils-DcEknavd-BIL6Doop.js";function I({distance:a,yaw:i,horizontalFieldOfView:e,pitch:n,verticalFieldOfView:f,origin:o=[0,0,0],positionLength:t=25}){const h=t-1,w=t*t,g=new Float32Array(2*w),p=new Float64Array(3*w),m=new Float32Array(3*w).fill(0),s=new Uint32Array(h**2*6);for(let r=0,l=0;r<w;r++){const A=Math.floor(r/t),b=r%t,d=1-b/h,y=A/h,F=2*r,c=3*r;g[F]=d,g[F+1]=y;const x=n+f/2-y*f,M=O(i-e/2+d*e),D=O(x),L=Math.sin(D),V=Math.cos(D),u=[L*Math.sin(M),Math.cos(M)*L,-V];p[c]=o[0]+a*u[0],p[c+1]=o[1]+a*u[1],p[c+2]=o[2]+a*u[2],m[c]=-u[0],m[c+1]=-u[1],m[c+2]=-u[2],A!==h&&b!==h&&(s[l++]=r,s[l++]=r+t,s[l++]=r+t+1,s[l++]=r,s[l++]=r+t+1,s[l++]=r+1)}return{result:{position:p,uv:g,normal:m,faces:s},transferList:[p.buffer,g.buffer,m.buffer,s==null?void 0:s.buffer]}}function z(a){const i=v.fromJSON(a);i.premultiplyAlpha=!0;const e=i.getAsRGBA(),n=i.width,f=i.height,o=new ImageData(e,n,f);return{result:o,transferList:[o.data.buffer]}}function G({oldDistance:a,newDistance:i,position:e,origin:n=[0,0,0]}){const f=e.length/3;for(let o=0;o<f;o+=3){const t=3*o;e[t]=n[0]+(e[t]-n[0])*(i/a),e[t+1]=n[1]+(e[t+1]-n[1])*(i/a),e[t+2]=n[2]+(e[t+2]-n[2])*(i/a)}return{result:e,transferList:[e.buffer]}}export{z as convertPixelBlockToImageData,I as getFacesWithVertexAttributes,G as recomputePositions};
