import"./index-12gn5LMs.js";function O(t){return t?{originPosition:t.originPosition==="upper-left"?"upperLeft":t.originPosition==="lower-left"?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance,1,1]:[1,1,1,1],translate:t.extent!=null?[t.extent.xmin,t.extent.ymax,t.extent.zmin??0,t.extent.mmin??0]:[0,0,0,0]}:null}function q(t){return t.originPosition==="lowerLeft"&&t.scale.length===4&&t.translate.length===4}function w(t){if(q(t))return t;const{originPosition:r,scale:n,translate:o}=t,l=n[0]??1,s=n[1]??1;return{originPosition:"lowerLeft",scale:[l,r==="lowerLeft"?s:-s,n[2]??1,n[3]??1],translate:[o[0]??0,o[1]??0,o[2]??0,o[3]??0]}}function p({scale:t,translate:r},n){return Math.round((n-r[0])/t[0])}function M({scale:t,translate:r},n){return Math.round((n-r[1])/t[1])}function m({scale:t,translate:r},n){return Math.round(((n??0)-r[2])/t[2])}function Z({scale:t,translate:r},n){return n?Math.round((n-r[3])/t[3]):0}function j(t,r){return t&&r?D:t&&!r?B:!t&&r?C:v}const v=(t,r)=>{const n=[];if(!r.length)return null;const o=r[0];let l=p(t,o[0]),s=M(t,o[1]);n.push([l,s]);for(let u=1;u<r.length;u++){const[e,c]=r[u],a=p(t,e),i=M(t,c);a===l&&i===s||n.push([a-l,i-s]),l=a,s=i}return n},B=(t,r)=>{const n=[];if(!r.length)return null;const o=r[0];let l=p(t,o[0]),s=M(t,o[1]),u=m(t,o[2]);n.push([l,s,u]);for(let e=1;e<r.length;e++){const[c,a,i]=r[e],h=p(t,c),f=M(t,a),g=m(t,i);h===l&&f===s&&g===u||n.push([h-l,f-s,g]),l=h,s=f,u=g}return n},C=(t,r)=>{const n=[];if(!r.length)return null;const o=r[0];let l=p(t,o[0]),s=M(t,o[1]),u=Z(t,o[2]);n.push([l,s,u]);for(let e=1;e<r.length;e++){const[c,a,i]=r[e],h=p(t,c),f=M(t,a),g=Z(t,i);h===l&&f===s&&g===u||n.push([h-l,f-s,g]),l=h,s=f,u=g}return n},D=(t,r)=>{const n=[];if(!r.length)return null;const o=r[0];let l=p(t,o[0]),s=M(t,o[1]),u=m(t,o[2]),e=Z(t,o[3]);n.push([l,s,u,e]);for(let c=1;c<r.length;c++){const[a,i,h,f]=r[c],g=p(t,a),x=M(t,i),A=m(t,h),d=Z(t,f);g===l&&x===s&&A===u&&d===e||n.push([g-l,x-s,A,d]),l=g,s=x,u=A,e=d}return n};function E(t,r,n,o){const l=[],s=j(n,o);for(let u=0;u<r.length;u++){const e=s(t,r[u]);e&&e.length>=3&&l.push(e)}return l.length?l:null}function G(t,r,n,o){const l=[],s=j(n,o);for(let u=0;u<r.length;u++){const e=s(t,r[u]);e&&e.length>=2&&l.push(e)}return l.length?l:null}function L({scale:t,translate:r},n){return n*t[0]+r[0]}function z({scale:t,translate:r},n){return n*t[1]+r[1]}function P({scale:t,translate:r},n){return(n??0)*t[2]+r[2]}function y({scale:t,translate:r},n){return n?n*t[3]+r[3]:0}function b(t,r){return t&&r?K:t&&!r?I:!t&&r?J:H}const H=(t,r)=>{const n=new Array(r.length);if(!r.length)return n;const o=r[0];let l=L(t,o[0]),s=z(t,o[1]);n[0]=[l,s];const{scale:u,originPosition:e}=t,c=u[0],a=e==="lowerLeft"?u[1]:-u[1];for(let i=1;i<r.length;i++){const[h,f]=r[i];l+=c*h,s+=a*f,n[i]=[l,s]}return n},I=(t,r)=>{const n=new Array(r.length);if(!r.length)return n;const o=r[0];let l=L(t,o[0]),s=z(t,o[1]);n[0]=[l,s,P(t,o[2])];const{scale:u,originPosition:e}=t,c=u[0],a=e==="lowerLeft"?u[1]:-u[1];for(let i=1;i<r.length;i++){const[h,f,g]=r[i];l+=c*h,s+=a*f,n[i]=[l,s,P(t,g)]}return n},J=(t,r)=>{const n=new Array(r.length);if(!r.length)return n;const o=r[0];let l=L(t,o[0]),s=z(t,o[1]);n[0]=[l,s,y(t,o[2])];const{scale:u,originPosition:e}=t,c=u[0],a=e==="lowerLeft"?u[1]:-u[1];for(let i=1;i<r.length;i++){const[h,f,g]=r[i];l+=c*h,s+=a*f,n[i]=[l,s,y(t,g)]}return n},K=(t,r)=>{const n=new Array(r.length);if(!r.length)return n;const o=r[0];let l=L(t,o[0]),s=z(t,o[1]);n[0]=[l,s,P(t,o[2]),y(t,o[3])];const{scale:u,originPosition:e}=t,c=u[0],a=e==="lowerLeft"?u[1]:-u[1];for(let i=1;i<r.length;i++){const[h,f,g,x]=r[i];l+=c*h,s+=a*f,n[i]=[l,s,P(t,g),y(t,x)]}return n};function k(t,r,n){const o=new Array(n.length);for(let l=0;l<n.length;l++)o[l]=r(t,n[l]);return o}function Q(t,r,n){const o=w(t);return r.x=p(o,n.x),r.y=M(o,n.y),n.z!=null&&(r.z=m(o,n.z)),n.m!=null&&(r.m=Z(o,n.m)),r}function R(t,r,n){const o=E(w(t),n.rings,n.hasZ,n.hasM);return o?(r.rings=o,r.hasZ=n.hasZ??!1,r.hasM=n.hasM??!1,r):null}function S(t,r,n){const o=G(w(t),n.paths,n.hasZ,n.hasM);return o?(r.paths=o,r.hasZ=n.hasZ??!1,r.hasM=n.hasM??!1,r):null}function T(t,r,n,o=(n==null?void 0:n.hasZ)??!1,l=(n==null?void 0:n.hasM)??!1){if(n!=null){const s=w(t);r.points=b(o,l)(s,n.points),r.hasZ=o,r.hasM=l}return r}function U(t,r,n,o=(n==null?void 0:n.z)!=null,l=(n==null?void 0:n.m)!=null){if(n==null)return r;const s=w(t);return r.x=L(s,n.x),r.y=z(s,n.y),o&&(r.z=P(s,n.z)),l&&(r.m=y(s,n.m)),r}function V(t,r,n,o=(n==null?void 0:n.hasZ)??!1,l=(n==null?void 0:n.hasM)??!1){if(n!=null){const s=w(t);r.rings=k(s,b(o,l),n.rings),r.hasZ=o,r.hasM=l}return r}function F(t,r,n,o=(n==null?void 0:n.hasZ)??!1,l=(n==null?void 0:n.hasM)??!1){if(n!=null){const s=w(t);r.paths=k(s,b(o,l),n.paths),r.hasZ=o,r.hasM=l}return r}export{O as C,M,Q as N,R as O,S as Q,T as R,U as S,V as T,F as V,p,w};
