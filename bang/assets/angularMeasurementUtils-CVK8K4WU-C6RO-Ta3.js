import{a as T,l as k}from"./Cyclical-Bzwh_QaL-CXh-hbnA.js";import{y,t as u}from"./quantityUtils-v7kjLywD-Cq6IoGLM.js";import{aW as q,eq as c,ek as z,nJ as I}from"./index-BeTPrQ6f.js";import{o as W,O as j}from"./vec2f64-CkowXrDb-3zFQ3LNH.js";import{R as A,A as J,_ as d}from"./vec32-CI1xtKog-DFVYRcgb.js";import{f as p}from"./projectVectorToVector-OCoJKalB-CQIDHzSm.js";import{u as v,$ as L,W as N,O as P}from"./geodesicUtils-DHDMXkUY-CP5HeHA5.js";function V(e,t){if(e==null||t==null)return;const r=b(e,t);return r!=null?u(r,"radians","geographic"):void 0}const b=(()=>{const e=c(),t=c();return(r,n)=>(d(e,r.x,r.y,r.z??0),d(t,n.x,n.y,n.z??0),X(e,t,r.spatialReference,n.spatialReference))})(),X=(()=>{const e=W(),t=c(),r=c();return(n,i,l,f)=>{if(A(n,i))return;const o=v(l),s=v(f);if(o&&s&&q(o,s)&&p(n,l,t,o)&&p(i,f,r,s)){const{azimuth:m}=L(Z,t,r,o);return m!=null?z(m,"degrees","radians"):void 0}e[0]=i[0]-n[0],e[1]=i[1]-n[1];let a=I(j,e);return e[0]<0&&(a=_-a),a}})();function Q(e,t,r,n="absolute"){if(t&&r)switch(n){case"absolute":return V(t,r);case"relative":return M(w(e,t,r),"relative");case"relative-bilateral":return M(w(e,t,r),"relative-bilateral")}}function w(e,t,r){if(!e||!t||!r)return;const n=b(e,t),i=b(t,r);return n!=null&&i!=null?u(i-n,"radians","geographic"):void 0}function M(e,t){if(e!=null)switch(t){case"absolute":return Y(e);case"relative":{const r=h(e);let n=R.normalize(r,0,!0);return n===-180&&(n=180),u(n,"degrees","geographic")}case"relative-bilateral":{const r=h(e),n=Math.abs(R.normalize(r,0,!0));return u(n,"degrees","geographic")}}}function Y(e){const t=h(e),r=B.normalize(t,0,!0);return u(r,"degrees","geographic")}const S=(()=>{const e=c();return(t,r,n,i,l,f="geodesic")=>{J(e,r);const o=h(l);if(f==="geodesic"){const g=v(n);if(g&&p(e,n,e,g))return P(t,e,o,i,g),t[2]=r[2],!!p(t,g,t,n)}const s=y(o,"geographic","arithmetic"),a=z(s,"degrees","radians"),m=r[0]+i*Math.cos(a),x=r[1]+i*Math.sin(a),O=r[2];return d(t,m,x,O),!0}})();function h(e){if(e!=null)return y($(e),e.rotationType,"geographic")}function U(e){if(e!=null)return y($(e),e.rotationType,"arithmetic")}function $(e){return z(e.value,e.unit,"degrees")}const Z=new N,_=2*Math.PI,B=k,R=new T(-180,180);export{Q as L,V as M,Y as T,S as V,U as X,h as l,X as x,M as y};
