import{a6 as R,a4 as h,be as m,B as y,eg as M,H as W}from"./index-BeTPrQ6f.js";import{E as w,c as H}from"./geodesicUtils-DHDMXkUY-CP5HeHA5.js";import{D as S}from"./normalizeUtils-DK5542Ty-DtqBcgc2.js";const d=50,B=5;function j(e,n){return Math.log(e)/Math.log(n)}function D(e,n,o){const t=e===1?10:e;return t**(o?Math.round(j(d/n,t)):0)}function k(e){const{isGeographic:n,isWebMercator:o}=e;return!n&&!o}function E(e,n,o){const t=typeof e=="number"?null:e,r=o??(t==null?void 0:t.spatialReference);if(r==null||!R(r)||k(r))return h(r);let c=(t==null?void 0:t.x)??e,s=(t==null?void 0:t.y)??n;const u=1/Math.sqrt(2);let i=c+u,l=s+u;const{isWebMercator:g,isGeographic:x}=r;let f=x&&!w(r)?m.WGS84:r;if(g){let a=new y({x:c,y:s,spatialReference:r});M(a,!0,a),c=a.x,s=a.y,a=new y({x:i,y:l,spatialReference:r}),M(a,!0,a),i=a.x,l=a.y,f=m.WGS84}const b=new W({paths:[[[c,s],[i,l]]],spatialReference:f}),G=S(b,10);let p;try{[p]=H([G],"meters")}catch{return h(r)}return p}export{E as H,k as M,B as k,D as z};
