import{e3 as n}from"./index-CQ8-0QQp.js";var s;let d=(s=class{static getId(e,l,o,t){return typeof e=="object"?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${l}/${o}/${t}`}constructor(e,l,o,t){this.set(e,l,o,t)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,l=4095&this.col,o=63&this.level;return(3&this.world)<<30|l<<22|e<<8|o}acquire(e,l,o,t){this.set(e,l,o,t)}contains(e){const l=e.level-this.level;return l>=0&&this.row===e.row>>l&&this.col===e.col>>l&&this.world===e.world}containsChild(e){const l=e.level-this.level;return l>0&&this.row===e.row>>l&&this.col===e.col>>l&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new s(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,l,o,t){if(e==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof e=="object")this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if(typeof e=="string"){const[r,i,h,w]=e.split("/");this.level=parseFloat(r),this.row=parseFloat(i),this.col=parseFloat(h),this.world=parseFloat(w)}else this.level=+e,this.row=+l,this.col=+o,this.world=+t||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new s(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,l,o){const t=this.clone();return t.col+=e,t.row+=l,o.normalizeKey(t),t}getChildKeys(){const e=this.level+1,l=this.row<<1,o=this.col<<1,t=this.world;return[new s(e,l,o,t),new s(e,l,o+1,t),new s(e,l+1,o,t),new s(e,l+1,o+1,t)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}},s.pool=new n(s,null,null,25,50),s);export{d as s};
