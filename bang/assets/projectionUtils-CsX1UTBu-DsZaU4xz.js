const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./projectOperator-Ck1qoxA7-C8j49U3P.js","./index-BeTPrQ6f.js","./index-BlWAJbpo.css","./operatorProject-DXddukrY-D4o1pyBi.js","./SimpleGeometryCursor-DSF_YyIm-TAMgMsbK.js","./projectOperator-DzixjTRg-BME4SLML.js","./geographicTransformationUtils-D2w8s-LD-DiMLY-W9.js","./projectBuffer-CMNsPBq1-CMpE7Jo3.js","./zscale-PLuFqpaL-BIEnWBsg.js"])))=>i.map(i=>d[i]);
import{ed as B,en as ue,eo as ce,a6 as h,aW as O,_ as W,N as fe,cU as pe,ep as N,be as A,b5 as me,B as he,F as de,C as ge,H as ye,D as xe,l as Re,aj as J,cV as U,eq as Y,er as _,es as V,et as q,eu as D,m as v,E as z,n as K}from"./index-BeTPrQ6f.js";import{C as we,o as S}from"./projectBuffer-CMNsPBq1-CMpE7Jo3.js";import{u as ve}from"./zscale-PLuFqpaL-BIEnWBsg.js";var b;let w=b=class extends J{constructor(n){super(n),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new b({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};v([z()],w.prototype,"isInverse",void 0),v([z()],w.prototype,"wkt",void 0),v([z()],w.prototype,"wkid",void 0),w=b=v([K("esri.geometry.operators.support.GeographicTransformationStep")],w);var G;let P=G=class extends J{constructor(n){super(n),this.steps=[]}getInverse(){const n=new G;for(let t=this.steps.length-1;t>=0;t--){const e=this.steps[t];n.steps.push(e.getInverse())}return n}};v([z({type:[w],nonNullable:!0})],P.prototype,"steps",void 0),P=G=v([K("esri.geometry.operators.support.GeographicTransformation")],P);function F(n,t,e,s,a,r){return L[0]=n,L[1]=t,L[2]=e,S(L,s,0,a,r,0)}const L=Y();let E=null,g=null,y=null,d=null,$={};const H=new pe;function j(){return!!(g!=null&&g.isLoaded()&&(y!=null&&y.isLoaded())&&(d!=null&&d.isLoaded()))}function Q(){return!!j()||(U(H),M(),!1)}function _e(n,t){return!n||!t||x(n,t)||Q()}function je(n,t){return!x(n,t)&&!j()}async function M(n){E==null&&(E=Promise.all([W(()=>import("./projectOperator-Ck1qoxA7-C8j49U3P.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(t=>(g=t,g.load())),W(()=>import("./projectOperator-DzixjTRg-BME4SLML.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url).then(t=>(y=t,y.load())),W(()=>import("./geographicTransformationUtils-D2w8s-LD-DiMLY-W9.js"),__vite__mapDeps([6,1,2,7,8]),import.meta.url).then(t=>(d=t,d.load()))])),await E,fe(n),H.notify()}function X(n,t,e){return Array.isArray(n)?n.length===0?[]:(ue(n),C(n,n[0].spatialReference,t,e)):(ce(n),C([n],n.spatialReference,t,e)[0])}function C(n,t,e,s){if(t==null||e==null)return n;if(x(t,e,s))return n.map(a=>I(a,t,e));if((s==null?void 0:s.geographicTransformation)==null&&N(t))return n.map(a=>I(a,t,A.WGS84)).map(a=>T(a,e));if((s==null?void 0:s.geographicTransformation)==null&&N(e))return n.map(a=>T(a,A.WGS84)).map(a=>I(a,A.WGS84,e));if(!j())throw new ne;if(!(s!=null&&s.geographicTransformation)){if(s!=null&&s.extendedParams)s={...s,geographicTransformation:d.getTransformation(t,e,s.areaOfInterestExtent)||new P};else if(!(s!=null&&s.areaOfInterestExtent)){const a=Pe(t,e);let r=$[a];r||(r=d.getTransformation(t,e)||new P,$[a]=r),s={geographicTransformation:r}}}return n[0].spatialReference||(n[0].spatialReference=t),n[0]instanceof me?g.executeMany(n,e,s):y.executeMany(n,e,s)}function Pe(n,t){var e,s,a,r,l,o;return[((e=n.wkid)==null?void 0:e.toString())??"-1",((s=n.wkt)==null?void 0:s.toString())??"",((a=n.wkt2)==null?void 0:a.toString())??"",((r=t.wkid)==null?void 0:r.toString())??"-1",((l=t.wkt)==null?void 0:l.toString())??"",((o=t.wkt2)==null?void 0:o.toString())??""].join()}function Ee(n,t){const e=ee([n],t);return e.pending!=null?{pending:e.pending,geometry:null}:e.geometries!=null?{pending:null,geometry:e.geometries[0]}:{pending:null,geometry:null}}function ee(n,t){if(!j()){for(const e of n)if(e!=null&&!O(e.spatialReference,t)&&h(e.spatialReference)&&h(t)&&!x(e.spatialReference,t))return U(H),{pending:M(),geometries:null}}return{pending:null,geometries:n.map(e=>e==null?null:O(e.spatialReference,t)?e:h(e.spatialReference)&&h(t)?T(e,t):null)}}class ne extends Re{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function Me(){E=null,g=null,y=null,d=null,$={}}const Te={get loadPromise(){return E}};function T(n,t){var e;try{const s=X(n,t);return s==null?null:("xmin"in n&&"xmin"in s&&(s.zmin=n.zmin,s.zmax=n.zmax),(e=ve(s.type,n.spatialReference,t))==null||e(s),s)}catch(s){if(!(s instanceof ne))throw s;return null}}async function Ze(n,t,e){const s=n.spatialReference;return s!=null&&t!=null&&await te(s,t,null,e),T(n,t)}function x(n,t,e){return!(e!=null&&e.areaOfInterestExtent||e!=null&&e.extendedParams||e!=null&&e.geographicTransformation)&&(!!O(n,t)||h(n)&&h(t)&&!!we(n,t))}function ke(n,t){if(O(n,t))return!0;if(!h(n)||!h(t))return!1;const e=V(n)||q(n)||D(n),s=V(t)||q(t)||D(t);return e&&s}async function te(n,t,e,s){if(j())return B(s);if(Array.isArray(n)){for(const{source:a,dest:r,options:l}of n)if(a&&r&&!x(a,r,l))return M(s)}else if(n&&t&&!x(n,t,e))return M(s);return B(s)}function I(n,t,e){return n?"x"in n?se(n,t,new he,e,0):"xmin"in n?ie(n,t,new de,e,0):"rings"in n?oe(n,t,new ge,e,0):"paths"in n?re(n,t,new ye,e,0):"points"in n?ae(n,t,new xe,e,0):null:null}function Le(n,t,e=t.spatialReference,s=0){return e!=null&&n.spatialReference!=null&&se(n,n.spatialReference,t,e,s)!=null}function se(n,t,e,s,a){u[0]=n.x,u[1]=n.y;const r=n.z;return u[2]=r!==void 0?r:a,S(u,t,0,u,s,0)?(e.x=u[0],e.y=u[1],e.spatialReference=s,r!==void 0||_(s)?(e.z=u[2],e.hasZ=!0):(e.z=void 0,e.hasZ=!1),n.m===void 0?(e.m=void 0,e.hasM=!1):(e.m=n.m,e.hasM=!0),e):null}function ze(n,t,e=t.spatialReference,s=0){return n.spatialReference!=null&&e!=null&&ae(n,n.spatialReference,t,e,s)!=null}function ae(n,t,e,s,a){const{points:r,hasZ:l,hasM:o}=n,i=[],p=r.length,m=[];for(const c of r)m.push(c[0],c[1],l?c[2]:a);if(!S(m,t,0,m,s,0,p))return null;const f=l||_(s);for(let c=0;c<p;++c){const R=3*c,Z=m[R],k=m[R+1];f&&o?i.push([Z,k,m[R+2],r[c][3]]):f?i.push([Z,k,m[R+2]]):o?i.push([Z,k,r[c][2]]):i.push([Z,k])}return e.points=i,e.spatialReference=s,e.hasZ=l,e.hasM=o,e}function Ie(n,t,e=t.spatialReference,s=0){return n.spatialReference!=null&&e!=null&&re(n,n.spatialReference,t,e,s)!=null}function re(n,t,e,s,a){const{paths:r,hasZ:l,hasM:o}=n,i=[];if(!le(r,l??!1,o??!1,t,i,s,a))return null;const p=l||_(s);return e.paths=i,e.spatialReference=s,e.hasZ=p,e.hasM=o,e}function Oe(n,t,e=t.spatialReference,s=0){return n.spatialReference!=null&&e!=null&&oe(n,n.spatialReference,t,e,s)!=null}function oe(n,t,e,s,a){const{rings:r,hasZ:l,hasM:o}=n,i=[];if(!le(r,l??!1,o??!1,t,i,s,a))return null;const p=l||_(s);return e.rings=i,e.spatialReference=s,e.hasZ=p,e.hasM=o,e}function Se(n,t,e=t.spatialReference,s=0){return n.spatialReference!=null&&e!=null&&ie(n,n.spatialReference,t,e,s)!=null}function ie(n,t,e,s,a){const{xmin:r,ymin:l,xmax:o,ymax:i,hasZ:p,hasM:m}=n,f=p?n.zmin:a;if(!F(r,l,f,t,u,s))return null;const c=p||_(s);e.xmin=u[0],e.ymin=u[1],c&&(e.zmin=u[2]);const R=p?n.zmax:a;return F(o,i,R,t,u,s)?(e.xmax=u[0],e.ymax=u[1],c&&(e.zmax=u[2]),m&&(e.mmin=n.mmin,e.mmax=n.mmax),e.spatialReference=s,e):null}function le(n,t,e,s,a,r,l=0){const o=new Array;for(const m of n)for(const f of m)o.push(f[0],f[1],t?f[2]:l);if(!S(o,s,0,o,r,0))return!1;let i=0;a.length=0;const p=t||_(r);for(const m of n){const f=new Array;for(const c of m)p&&e?f.push([o[i++],o[i++],o[i++],c[3]]):p?f.push([o[i++],o[i++],o[i++]]):e?(f.push([o[i++],o[i++],c[2]]),i++):(f.push([o[i++],o[i++]]),i++);a.push(f)}return!0}const u=Y(),Ge=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:x,initializeProjection:te,isEqualBaseGCS:ke,isLoaded:j,isLoadedOrLoad:Q,isLoadedOrLoadFor:_e,load:M,project:X,projectExtent:Se,projectMany:C,projectMultipoint:ze,projectOrLoad:Ee,projectOrLoadMany:ee,projectPoint:Le,projectPolygon:Oe,projectPolyline:Ie,projectWithZConversion:Ze,projectWithoutEngine:I,requiresLoad:je,test:Te,tryProjectWithZConversion:T,unload:Me},Symbol.toStringTag,{value:"Module"}));export{Le as $,C as B,T as F,j as G,Ze as H,x as J,ke as K,M as L,te as N,I as Q,X as W,Ee as X,ee as Y,_e as b,P as c,w as i,Oe as o,Ge as p,F as t};
