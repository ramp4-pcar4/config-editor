import{aW as e0,ev as v,ew as E,em as h,a4 as u0,ep as f0,es as t0,et as s0,ex as r0,ey as i0,ez as c0,eA as o0,eB as d0,eC as h0,am as M0,b8 as p0,eD as I0,aO as R0}from"./index-BeTPrQ6f.js";const T0=Math.PI/180,V0=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,R=h.radius,d=h.eccentricitySquared,P0={a1:R*d,a2:R*d*R*d,a3:R*d*d/2,a4:R*d*R*d*2.5,a5:R*d+R*d*d/2,a6:1-d},Z0={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:h.radius,f:h.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:E.radius,f:E.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:v.radius,f:v.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:v.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}},q0={2:{5:f,7:null,9:null,10:f,1:B,6:null,8:null,0:null,3:S,11:g,2:f,4:_},5:{5:f,7:null,9:null,10:f,1:B,6:null,8:null,0:null,3:S,11:g,2:f,4:_},7:{5:null,7:f,9:null,10:f,1:null,6:N,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:f,10:f,1:null,6:null,8:K,0:null,3:null,11:null,2:null,4:null},3:{5:A,7:null,9:null,10:A,1:O0,6:null,8:null,0:null,3:f,11:g0,2:A,4:j0},4:{5:b,7:null,9:null,10:b,1:A0,6:null,8:null,0:null,3:B0,11:k0,2:b,4:f},1:{5:y,7:null,9:null,10:y,1:f,6:null,8:null,0:null,3:U0,11:y0,2:y,4:D0},6:{5:null,7:$,9:null,10:$,1:null,6:f,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:X,10:X,1:null,6:null,8:f,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:f,3:null,11:null,2:null,4:null},10:{5:f,7:f,9:f,10:f,1:B,6:N,8:K,0:null,3:S,11:g,2:f,4:_},11:{5:k,7:null,9:null,10:k,1:_0,6:null,8:null,0:null,3:b0,11:f,2:k,4:x0}};function m0(n,e){var l;return(l=w0(n,e))==null?void 0:l.projector}function w0(n,e){if(n==null||e==null)return null;if(M.source.spatialReference===n&&M.dest.spatialReference===e)return M;const l=G(n,M.source),a=G(e,M.dest);return l===0&&a===0?e0(n,e)?M.projector=f:M.projector=null:M.projector=q0[l][a],M}function G(n,e){return n?e.spatialReference===n?e.spatialReferenceId:(e.spatialReference=n,"metersPerUnit"in e&&(e.metersPerUnit=u0(n,1)),f0(n)?e.spatialReferenceId=1:t0(n)?e.spatialReferenceId=2:s0(n)?e.spatialReferenceId=3:r0(n)?e.spatialReferenceId=11:n.wkt===i0.wkt?e.spatialReferenceId=4:n.wkid===4490?e.spatialReferenceId=5:n.wkt===c0.wkt?e.spatialReferenceId=6:n.wkt===o0.wkt?e.spatialReferenceId=8:d0(n)?e.spatialReferenceId=7:h0(n)?e.spatialReferenceId=9:e.spatialReferenceId=0):0}function f(n,e,l,a){n!==l&&(l[a++]=n[e++],l[a++]=n[e++],l[a]=n[e])}function A(n,e,l,a){l[a]=U*(n[e]/m),l[a+1]=U*(n0-2*Math.atan(Math.exp(-n[e+1]/m))),l[a+2]=n[e+2]}function O0(n,e,l,a){const s=n[e]/m,t=n0-2*Math.atan(Math.exp(-n[e+1]/m)),r=m+n[e+2],u=Math.cos(t)*r;l[a]=Math.cos(s)*u,l[a+1]=Math.sin(s)*u,l[a+2]=Math.sin(t)*r}function j0(n,e,l,a){A(n,e,l,a),_(l,a,l,a)}function S0(n,e,l,a,s){const t=.4999999*Math.PI,r=M0(x*n[e+1],-t,t),u=Math.sin(r);l[a++]=x*n[e]*s.radius,l[a++]=s.halfSemiMajorAxis*Math.log((1+u)/(1-u)),l[a]=n[e+2]}function S(n,e,l,a){S0(n,e,l,a,h)}function g(n,e,l,a){l[a]=n[e]*l0,l[a+1]=n[e+1]*l0,l[a+2]=n[e+2]}function k(n,e,l,a){l[a]=n[e]*a0,l[a+1]=n[e+1]*a0,l[a+2]=n[e+2]}function g0(n,e,l,a){A(n,e,l,a),g(l,a,l,a)}function k0(n,e,l,a){b(n,e,l,a),g(l,a,l,a)}function y0(n,e,l,a){y(n,e,l,a),g(l,a,l,a)}function _0(n,e,l,a){k(n,e,l,a),B(l,a,l,a)}function b0(n,e,l,a){k(n,e,l,a),S(l,a,l,a)}function x0(n,e,l,a){k(n,e,l,a),_(l,a,l,a)}function Q(n,e,l,a,s){const t=s+n[e+2],r=x*n[e+1],u=x*n[e],i=Math.cos(r)*t;l[a]=Math.cos(u)*i,l[a+1]=Math.sin(u)*i,l[a+2]=Math.sin(r)*t}function K(n,e,l,a){Q(n,e,l,a,E.radius)}function N(n,e,l,a){Q(n,e,l,a,v.radius)}function B(n,e,l,a){Q(n,e,l,a,h.radius)}function W(n,e,l,a,s){const t=n[e],r=n[e+1],u=n[e+2],i=Math.sqrt(t*t+r*r+u*u),o=I0(u/(i===0?1:i)),c=Math.atan2(r,t);l[a++]=U*c,l[a++]=U*o,l[a]=i-s}function X(n,e,l,a){W(n,e,l,a,E.radius)}function $(n,e,l,a){W(n,e,l,a,v.radius)}function y(n,e,l,a){W(n,e,l,a,h.radius)}function U0(n,e,l,a){y(n,e,l,a),S(l,a,l,a)}function D0(n,e,l,a){y(n,e,l,a),_(l,a,l,a)}function v0(n,e,l,a,s){const t=x*n[e],r=x*n[e+1],u=n[e+2],i=Math.sin(r),o=Math.cos(r),c=s.radius/Math.sqrt(1-s.eccentricitySquared*i*i);l[a++]=(c+u)*o*Math.cos(t),l[a++]=(c+u)*o*Math.sin(t),l[a++]=(c*(1-s.eccentricitySquared)+u)*i}function _(n,e,l,a){v0(n,e,l,a,h)}function b(n,e,l,a){const s=P0,t=n[e],r=n[e+1],u=n[e+2];let i,o,c,P,q,T,C,p,I,D,V,Z,z,w,O,H,J,L,j,Y,F;i=Math.abs(u),o=t*t+r*r,c=Math.sqrt(o),P=o+u*u,q=Math.sqrt(P),Y=Math.atan2(r,t),T=u*u/P,C=o/P,w=s.a2/q,O=s.a3-s.a4/q,C>.3?(p=i/q*(1+C*(s.a1+w+T*O)/q),j=Math.asin(p),D=p*p,I=Math.sqrt(1-D)):(I=c/q*(1-T*(s.a5-w-C*O)/q),j=Math.acos(I),D=1-I*I,p=Math.sqrt(D)),V=1-h.eccentricitySquared*D,Z=h.radius/Math.sqrt(V),z=s.a6*Z,w=c-Z*I,O=i-z*p,J=I*w+p*O,H=I*O-p*w,L=H/(z/V+J),j+=L,F=J+H*L/2,u<0&&(j=-j),l[a++]=U*Y,l[a++]=U*j,l[a]=F}function A0(n,e,l,a){b(n,e,l,a),B(l,a,l,a)}function B0(n,e,l,a){b(n,e,l,a),S(l,a,l,a)}const M={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:f},x=R0(1),U=p0(1),n0=.5*Math.PI,m=h.radius,l0=m*Math.PI/180,a0=180/(m*Math.PI);function C0(n,e,l,a,s,t,r=Math.floor(n.length/3)){const u=m0(e,s);if(u==null)return!1;if(u===f){if(n===a&&l===t)return!0;const o=l+3*r;for(let c=l,P=t;c<o;c++,P++)a[P]=n[c];return!0}const i=l+3*r;for(let o=l,c=t;o<i;o+=3,c+=3)u(n,o,a,c);return!0}const z0=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:C0},Symbol.toStringTag,{value:"Module"}));export{m0 as C,w0 as I,W as J,Z0 as d,S0 as g,T0 as i,C0 as o,z0 as p,V0 as t,q0 as w};
