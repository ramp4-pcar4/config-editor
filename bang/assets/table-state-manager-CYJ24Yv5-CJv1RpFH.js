var n=Object.defineProperty;var _=(l,e,i)=>e in l?n(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i;var t=(l,e,i)=>_(l,typeof e!="symbol"?e+"":e,i);class o{constructor(e){t(this,"columnConfig");t(this,"_field");t(this,"_title");t(this,"_visible");t(this,"_width");t(this,"_sort");t(this,"_searchable");t(this,"_filter");t(this,"_template");var i,s,r,h,a;this.columnConfig=e,this._field=e==null?void 0:e.field,this._title=e==null?void 0:e.title,this._visible=e.visible??!0,this._width=e==null?void 0:e.width,this._sort=e.sort??"none",this._searchable=e.searchable??!0,this._filter={type:((i=e==null?void 0:e.filter)==null?void 0:i.type)??"string",value:((s=e==null?void 0:e.filter)==null?void 0:s.value)??"",min:((r=e==null?void 0:e.filter)==null?void 0:r.min)??null,max:((h=e==null?void 0:e.filter)==null?void 0:h.max)??null,static:((a=e==null?void 0:e.filter)==null?void 0:a.static)??!1},this._template=e.template??""}get field(){return this._field}get title(){return this._title}set title(e){this._title=e}get visible(){return this._visible}set visible(e){this._visible=e}get width(){return this._width}set width(e){this._width=e}get sort(){return this._sort}set sort(e){this._sort=e}get searchable(){return this._searchable}set searchable(e){this._searchable=e}get filter(){return this._filter}set filter(e){this._filter=e}set template(e){this._template=e}get template(){return this._template}}class u{constructor(e){t(this,"state");t(this,"_title");t(this,"_showFilter");t(this,"_filterByExtent");t(this,"_open");t(this,"_columns");t(this,"_filtered");t(this,"_search");t(this,"_searchFilter");t(this,"_applyToMap");t(this,"_controls");this.state=e??{},this._title=(e==null?void 0:e.title)??"",this._showFilter=(e==null?void 0:e.showFilter)??!0,this._filterByExtent=(e==null?void 0:e.filterByExtent)??!1,this._columns={},this._open=!0,this._filtered=!0,this._search=(e==null?void 0:e.search)??!0,this._searchFilter=(e==null?void 0:e.searchFilter)??"",this._applyToMap=(e==null?void 0:e.applyToMap)??!1,this._controls=(e==null?void 0:e.controls)??["zoom","details"],this.parsecolumns()}parsecolumns(){this.state.columns&&this.state.columns.forEach(e=>{this._columns[e.field]=new o(e)})}getColumnFilterValue(e,i){const s=this._columns[e].filter;return i==="min"?s.min:i==="max"?s.max:s.value}setColumnFilterValue(e,i,s){let r=i;if(i&&typeof i=="string"){const h=/[(!"#$%&'+,.\\/:;<=>?@[\]^`{|}~)]/g;r=i.replace(h,"\\$&")}s==="min"?this._columns[e].filter.min=r:s==="max"?this._columns[e].filter.max=r:this._columns[e].filter.value=r,this._columns[e].filter.value!==""?this._filtered=!0:this._checkFilters()}clearFilters(){Object.entries(this._columns).forEach(([,e])=>{e.filter.static||(e.filter.min=null,e.filter.max=null,e.filter.value="")}),this._filterByExtent=!1,this._filtered=!1,this._searchFilter=""}_checkFilters(){this._filtered=Object.values(this._columns).some(e=>e.filter.value!==""||e.filter.min||e.filter.max)}get filtered(){return this._filtered}get title(){return this._title}set title(e){this._title=e}get colFilter(){return this._showFilter}set colFilter(e){this._showFilter=e}get filterByExtent(){return this._filterByExtent}set filterByExtent(e){this._filterByExtent=e}get open(){return this._open}set open(e){this._open=e}get search(){return this._search}set search(e){this._search=e}get searchFilter(){return this._searchFilter}set searchFilter(e){this._searchFilter=e}get applyToMap(){return this._applyToMap}set applyToMap(e){this._applyToMap=e}get columns(){return this._columns}set columns(e){this._columns=e}get controls(){return this._controls}}export{u as a,o as l};
