import{Y as m,l as c,m as s,E as d,fg as p,n as y}from"./index-BeTPrQ6f.js";import{p as o,l as n}from"./jsonUtils-Bl9MVnOR-Be8hf0yA.js";import E from"./FeatureFilter-D0iZ4sKI-BBZH0Xo9.js";var a;const w={read:{reader:n},write:{writer:o,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},h={read:{reader:n},write:{writer:o,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},b={name:"showExcludedLabels",default:!0};let i=a=class extends m{constructor(l){super(l),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(l,e){var u,r;const t=super.write(l,e);if(e!=null&&e.origin){if(t.filter){const f=Object.keys(t.filter);if(f.length>1||f[0]!=="where")return(u=e.messages)==null||u.push(new c("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:e.layer,effect:this})),null}if("showExcludedLabels"in t)return(r=e.messages)==null||r.push(new c("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:e.layer,effect:this})),null}return t}clone(){return new a({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};s([d({type:E,json:{write:{allowNull:!0,writer(l,e,t,u){const r=l==null?void 0:l.write({},u);r&&Object.keys(r).length!==0?p(t,r,e):p(t,null,e)}}}})],i.prototype,"filter",void 0),s([d({json:{read:n,write:{writer:o,allowNull:!0},origins:{"web-map":w,"portal-item":w}}})],i.prototype,"includedEffect",void 0),s([d({json:{read:n,write:{writer:o,allowNull:!0},origins:{"web-map":h,"portal-item":h}}})],i.prototype,"excludedEffect",void 0),s([d({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":b,"portal-item":b}}})],i.prototype,"excludedLabelsVisible",void 0),i=a=s([y("esri.layers.support.FeatureEffect")],i);export{i as l};
