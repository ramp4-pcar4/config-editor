const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./header-BE9fD4Qd-BkmzcARx.js","./index-DiOGazkl.js","./index-CpSsk29H.css","./item-DF94_EAr-CMJ38xii.js","./marked.esm-DgqJBp_S-BMQxW5MS.js"])))=>i.map(i=>d[i]);
import{ar as x,h9 as p,av as A,aw as T,aG as w,aI as D,aJ as J,ax as O,ay as P,aK as d,az as s,aA as v,aB as c,gW as V,aQ as W,aE as r,aY as j,aM as z,aL as m,aV as B,aW as C,_}from"./index-DiOGazkl.js";const G=["content"],R=x({__name:"screen",props:{panel:{type:Object,required:!0}},setup(g){const y=p(()=>_(()=>import("./header-BE9fD4Qd-BkmzcARx.js"),__vite__mapDeps([0,1,2]),import.meta.url)),E=p(()=>_(()=>import("./item-DF94_EAr-CMJ38xii.js"),__vite__mapDeps([3,1,2,4]),import.meta.url)),{t:l}=A(),f=T("iApi"),a=w(),o=()=>{a.value._tippy.hide()},u=e=>{var t;e.key==="Tab"&&((t=a.value)!=null&&t.matches(":focus"))&&a.value._tippy.show()},h=e=>{var n;const t=new CustomEvent("refocusLegendItem",{detail:{focusItem:e}});(n=a.value)==null||n.dispatchEvent(t)};D(()=>{var e,t;(e=a.value)==null||e.addEventListener("blur",o),(t=a.value)==null||t.addEventListener("keyup",u)}),J(()=>{var e,t;(e=a.value)==null||e.removeEventListener("blur",o),(t=a.value)==null||t.removeEventListener("keyup",u)});const L=O(()=>{const e=f.fixture.get("legend");return e?[...e.getLegend()]:[]});return(e,t)=>{const n=P("panel-screen"),I=d("focus-list"),b=d("tippy");return s(),v(n,{panel:g.panel},{header:c(()=>[V(W(r(l)("legend.title")),1)]),content:c(()=>[j(r(y)),z((s(),m("div",{content:r(l)("panels.controls.items"),ref_key:"el",ref:a},[(s(!0),m(B,null,C(L.value,i=>(s(),v(r(E),{legendItem:i,key:i.uid,onFocusItem:t[0]||(t[0]=(k,K)=>h(k))},null,8,["legendItem"]))),128))],8,G)),[[I],[b,{trigger:"manual",placement:"top-end",touch:!1,maxWidth:190}]])]),_:1},8,["panel"])}}});export{R as default};
