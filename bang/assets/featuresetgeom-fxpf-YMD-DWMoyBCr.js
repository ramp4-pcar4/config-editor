import{c as l}from"./enum-D3e-PyKo-Bl5V5br5.js";import{z as m}from"./TimeOnly-BFfVS_ja-C4MPGwCM.js";import{T as d,v as w,L as s,_ as f,U as u}from"./Dictionary-B0UU8VOj-BnHchtFP.js";import{F as c,T as S}from"./SpatialFilter-mqvhBV6T-COxCgKHY.js";import{n as o}from"./operatorsWorkerConnection-BI0u3kJm-CDhqefZJ.js";import"./index-BeTPrQ6f.js";import"./UnknownTimeZone-DzO8gKMe-d6rtFXqm.js";import"./ImmutableArray-CiJxhY8_-Kqx7aWRu.js";import"./shared-DXZ65waB-BM-XH3jC.js";import"./Field-Dn1Bgq7n-CJCGLoNR.js";import"./fieldType-DvW5hpfa-DYUbIy_X.js";import"./number-BsNxu9Ry-D0lLRJTw.js";import"./Feature-DEFbFbhW-MI6BQTTC.js";import"./featureConversionUtils-CZmIxyv5-DHwRSztU.js";import"./OptimizedFeature-C33SioFK-sn7DeAq-.js";import"./memoryEstimations-C_GUL8g_-JniNFd5l.js";import"./OptimizedGeometry-BYxlP_oK-DvAqrgO1.js";import"./OptimizedFeatureSet-Dz5hF8Qm-CgsRgxJh.js";import"./FieldsIndex-Ds4D9xP7-BiTuE5Z3.js";import"./timeZoneUtils-CdK7eU4Y-fyhJ3EFx.js";import"./WhereClause-DrmAQ3eI-CwdMrUuP.js";import"./workers-CixlqDQM-CMoJ1YZN.js";import"./Queue-CK6TduSr-C-T211SM.js";import"./intl-DRhjUnwt-Dihhq8dq.js";import"./messages-DQ10DjvF-6kk0dzjG.js";function a(i){return async(t,n,e)=>{if(w(e,2,2,t,n),(e=d(e))[0]===null&&e[1]===null)return!1;if(u(e[0])){if(s(e[1]))return new S({parentfeatureset:e[0],relation:i,relationGeom:e[1]});if(e[1]===null)return new c({parentfeatureset:e[0]});throw new l(t,"InvalidParameter",n)}if(s(e[0])){if(s(e[1])){switch(i){case"esriSpatialRelEnvelopeIntersects":{const p=m(e[0]),r=m(e[1]);return p!=null&&r!=null&&o("intersects",[p.toJSON(),r.toJSON()])}case"esriSpatialRelIntersects":return o("intersects",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelContains":return o("contains",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelOverlaps":return o("overlaps",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelWithin":return o("within",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelTouches":return o("touches",[e[0].toJSON(),e[1].toJSON()]);case"esriSpatialRelCrosses":return o("crosses",[e[0].toJSON(),e[1].toJSON()])}throw new l(t,"InvalidParameter",n)}if(u(e[1]))return new S({parentfeatureset:e[1],relation:i,relationGeom:e[0]});if(e[1]===null)return!1;throw new l(t,"InvalidParameter",n)}if(e[0]===null){if(u(e[1]))return new c({parentfeatureset:e[1]});if(s(e[1])||e[1]===null)return!1}throw new l(t,"InvalidParameter",n)}}function q(i){i.mode==="async"&&(i.functions.intersects=function(t,n){return i.standardFunctionAsync(t,n,a("esriSpatialRelIntersects"))},i.functions.envelopeintersects=function(t,n){return i.standardFunctionAsync(t,n,a("esriSpatialRelEnvelopeIntersects"))},i.signatures.push({name:"envelopeintersects",min:2,max:2}),i.functions.contains=function(t,n){return i.standardFunctionAsync(t,n,a("esriSpatialRelContains"))},i.functions.overlaps=function(t,n){return i.standardFunctionAsync(t,n,a("esriSpatialRelOverlaps"))},i.functions.within=function(t,n){return i.standardFunctionAsync(t,n,a("esriSpatialRelWithin"))},i.functions.touches=function(t,n){return i.standardFunctionAsync(t,n,a("esriSpatialRelTouches"))},i.functions.crosses=function(t,n){return i.standardFunctionAsync(t,n,a("esriSpatialRelCrosses"))},i.functions.relate=function(t,n){return i.standardFunctionAsync(t,n,async(e,p,r)=>{if(r=d(r),w(r,3,3,t,n),s(r[0])&&s(r[1]))return o("relate",[r[0].toJSON(),r[1].toJSON(),f(r[2])]);if(s(r[0])&&r[1]===null||s(r[1])&&r[0]===null)return!1;if(u(r[0])&&r[1]===null)return new c({parentfeatureset:r[0]});if(u(r[1])&&r[0]===null)return new c({parentfeatureset:r[1]});if(u(r[0])&&s(r[1]))return r[0].relate(r[1],f(r[2]));if(u(r[1])&&s(r[0]))return r[1].relate(r[0],f(r[2]));if(r[0]===null&&r[1]===null)return!1;throw new l(t,"InvalidParameter",n)})})}export{q as registerFunctions};
